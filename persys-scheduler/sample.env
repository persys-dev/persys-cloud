# Persys Prow Scheduler Sample Environment Variables

# ETCD endpoints (comma-separated)
ETCD_ENDPOINTS=etcd:2379

# Domain for service discovery
DOMAIN=cluster.local.dev

# Scheduler ports
GRPC_PORT=8085
METRICS_PORT=8084
# For local testing without mTLS:
# ./persys-scheduler -insecure

# Scheduler -> agent gRPC transport
# If unset, defaults to PERSYS_TLS_ENABLED.
SCHEDULER_AGENT_TLS_ENABLED=true
PERSYS_TLS_CA=/etc/persys/certs/persys-scheduler/ca.pem
PERSYS_TLS_CERT=/etc/persys/certs/persys-scheduler/persys_scheduler.crt
PERSYS_TLS_KEY=/etc/persys/certs/persys-scheduler/persys_scheduler-key.key

# Scheduler mTLS certificate management (Vault)
# When disabled, scheduler uses the manual cert files from PERSYS_TLS_* above.
PERSYS_VAULT_ENABLED=true
PERSYS_VAULT_ADDR=http://vault:8200
PERSYS_VAULT_AUTH_METHOD=token
PERSYS_VAULT_TOKEN=root
# For AppRole auth:
# PERSYS_VAULT_AUTH_METHOD=approle
# PERSYS_VAULT_APPROLE_ROLE_ID=
# PERSYS_VAULT_APPROLE_SECRET_ID=
PERSYS_VAULT_PKI_MOUNT=pki
PERSYS_VAULT_PKI_ROLE=persys-scheduler
PERSYS_VAULT_CERT_TTL=24h
PERSYS_VAULT_RETRY_INTERVAL=1m
PERSYS_VAULT_SERVICE_NAME=persys-scheduler
PERSYS_VAULT_SERVICE_DOMAIN=

# Tracing (OTLP)
# You can also set OTEL_EXPORTER_OTLP_ENDPOINT, which takes precedence.
JAEGER_ENDPOINT=jaeger:4318
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_EXPORTER_OTLP_INSECURE=true
